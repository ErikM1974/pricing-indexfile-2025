# ManageOrders PUSH API - Complete Field Reference

**Version:** 1.0.0
**Last Updated:** October 27, 2025
**Source:** ShopWorks ManageOrders Swagger Specification
**Purpose:** Comprehensive documentation of all available fields for future development

---

## üìã Table of Contents

1. [Overview & Statistics](#overview-statistics)
2. [Order-Level Fields](#order-level-fields)
3. [Customer Block Fields](#customer-block-fields)
4. [Line Item Fields](#line-item-fields)
5. [Design Block Fields](#design-block-fields)
6. [Payment Block Fields](#payment-block-fields)
7. [Shipping Address Fields](#shipping-address-fields)
8. [Notes Block Fields](#notes-block-fields)
9. [Attachments Block Fields](#attachments-block-fields)
10. [Field Mapping Quick Reference](#field-mapping-quick-reference)
11. [Implementation Snippets](#implementation-snippets)
12. [Troubleshooting Guide](#troubleshooting-guide)

---

## Overview & Statistics {#overview-statistics}

### Total Fields Available

| Block | Total Fields | Currently Used | Percentage | Status |
|-------|-------------|----------------|------------|--------|
| **Order-Level** | 23 | 12 | 52% | ‚úÖ Partial |
| **Customer** | 27 | 0 | 0% | ‚ö†Ô∏è Intentional (Customer #2791) |
| **Line Items** | 18 per item | 8 | 44% | ‚úÖ Partial |
| **Designs** | ~27 (nested) | 0 | 0% | üìù Future Enhancement |
| **Payments** | 12 per payment | 0 | 0% | üìù Future Enhancement |
| **Shipping** | 8 per address | 7 | 88% | ‚úÖ Mostly Complete |
| **Notes** | 8 types | 1 | 12.5% | ‚úÖ Basic |
| **Attachments** | 5 per attachment | 0 | 0% | üìù Future Enhancement |
| **TOTAL** | ~158 | ~32 | 20% | üöÄ Room for Growth |

### Implementation Phases

**‚úÖ Phase 1: COMPLETE** (Current - Sample Orders)
- Basic order info
- Customer contact
- Line items (products, colors, sizes)
- Shipping address
- Basic notes

**üìù Phase 2: PLANNED** (Quick Wins)
- Line item custom fields (sample tracking)
- Additional note types
- Customer company info
- Enhanced notes

**üîÆ Phase 3: FUTURE** (Major Features)
- Design block (artwork tracking)
- Payment integration (Stripe)
- Attachments (design files)
- Advanced custom fields

---

## Order-Level Fields {#order-level-fields}

### Required Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ExtOrderID` | string | ‚úÖ **AUTO** | N/A | Unique order ID with NWCA prefix | "NWCA-SAMPLE-1027-1" |
| `id_Customer` | number | ‚úÖ **AUTO** | N/A | Customer ID (all orders ‚Üí 2791) | 2791 |
| `id_OrderType` | number | ‚úÖ **AUTO** | N/A | Order type (6 = web orders) | 6 |

**Notes:**
- `ExtOrderID` automatically generated by proxy: `NWCA-{orderNumber}` (or `NWCA-TEST-{orderNumber}` for test orders)
- `id_Customer` hardcoded to 2791 for all web orders
- `id_OrderType` hardcoded to 6 for web orders

### Order Identification Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ExtSource` | string | ‚úÖ Used | N/A | Source system identifier | "NWCA-WEBSTORE" |
| `ExtCustomerID` | string | ‚úÖ **AUTO** | N/A | External customer ID | "NWCA-CUST-SAMPLE-1027-1" |
| `ExtCustomerPref` | string | ‚úÖ **AUTO** | N/A | Customer prefix | "NWCA" |
| `CustomerPurchaseOrder` | string | ‚úÖ **NEW** | `purchaseOrderNumber` | Customer PO number | "SAMPLE-1027-1" |

**Implementation:**
```javascript
purchaseOrderNumber: `SAMPLE-${orderNumber}`,  // For samples
// OR
purchaseOrderNumber: customerData.actualPO,    // For real orders
```

### Date Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `date_OrderPlaced` | string | ‚úÖ Used | `orderDate` | Order date (MM/DD/YYYY) | "10/27/2025" |
| `date_OrderRequestedToShip` | string | ‚ùå Not Used | `requestedShipDate` | Requested ship date | "11/03/2025" |
| `date_OrderDropDead` | string | ‚ùå Not Used | `dropDeadDate` | Drop-dead date | "11/10/2025" |

**Format Note:** Proxy auto-converts YYYY-MM-DD ‚Üí MM/DD/YYYY

**Implementation:**
```javascript
orderDate: "2025-10-27",              // You send this
requestedShipDate: "2025-11-03",      // Optional
dropDeadDate: "2025-11-10"            // Optional
```

### Contact Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ContactNameFirst` | string | ‚úÖ Used | `customer.firstName` | Contact first name | "Mike" |
| `ContactNameLast` | string | ‚úÖ Used | `customer.lastName` | Contact last name | "Test" |
| `ContactEmail` | string | ‚úÖ Used | `customer.email` | Contact email | "erik@go2shirt.com" |
| `ContactPhone` | string | ‚úÖ Used | `customer.phone` | Contact phone | "555-5555" |

### Sales & Billing Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `CustomerServiceRep` | string | ‚úÖ **NEW** | `salesRep` | Sales rep name/email | "erik@nwcustomapparel.com" |
| `Terms` | string | ‚úÖ **NEW** | `terms` | Payment terms | "FREE SAMPLE" |
| `cur_Shipping` | number | ‚úÖ Used | `shippingAmount` | Shipping cost | 0 |
| `TaxTotal` | number | ‚ùå Not Used | N/A | Tax amount | 0 |
| `TotalDiscounts` | number | ‚ùå Not Used | N/A | Total discounts | 0 |
| `DiscountPartNumber` | string | ‚ùå Not Used | N/A | Discount product SKU | "" |
| `DiscountPartDescription` | string | ‚ùå Not Used | N/A | Discount description | "" |

**Note:** ShopWorks Swagger shows `CustomerSeviceRep` (typo - missing 'r'), but proxy sends correctly spelled `CustomerServiceRep`.

### Status & Configuration Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `id_CompanyLocation` | number | ‚úÖ **AUTO** | N/A | Company location ID | 1 |
| `id_EmpCreatedBy` | number | ‚úÖ **AUTO** | N/A | Employee who created | 1 |
| `id_SalesStatus` | number | ‚ùå Not Used | N/A | Sales status ID | 0 |
| `id_ReceivingStatus` | number | ‚ùå Not Used | N/A | Receiving status ID | 0 |
| `id_ShippingStatus` | number | ‚ùå Not Used | N/A | Shipping status ID | 0 |
| `OnHold` | number | ‚úÖ **AUTO** | N/A | Order on hold (0=No, 1=Yes) | 0 |

---

## Customer Block Fields {#customer-block-fields}

**‚ö†Ô∏è IMPORTANT:** Since all web orders go to Customer #2791, the `Customer` block is **NOT currently sent**. However, these fields are available if you need to create new customers or update existing ones.

### Company Information

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `CompanyName` | string | ‚ùå Not Used | Create new customers | "ABC Company" |
| `CustomerSource` | string | ‚ùå Not Used | Track lead source | "Web" |
| `CustomerType` | string | ‚ùå Not Used | Customer classification | "Retail" |
| `MainEmail` | string | ‚ùå Not Used | Primary contact email | "sales@abc.com" |
| `WebSite` | string | ‚ùå Not Used | Company website | "https://abc.com" |
| `SalesGroup` | string | ‚ùå Not Used | Sales team assignment | "Web Sales" |

### Tax & Billing

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `TaxExempt` | string | ‚ùå Not Used | Tax exemption status | "N" or "Y" |
| `TaxExemptNumber` | string | ‚ùå Not Used | Tax exempt cert number | "EXEMPT-123" |
| `InvoiceNotes` | string | ‚ùå Not Used | Default invoice notes | "Net 30" |
| `CustomerReminderInvoiceNotes` | string | ‚ùå Not Used | Payment reminder text | "Payment due" |

### Billing Address Fields

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `BillingCompany` | string | ‚ùå Not Used | Bill-to company | "ABC Company" |
| `BillingAddress01` | string | ‚ùå Not Used | Bill-to address line 1 | "123 Main St" |
| `BillingAddress02` | string | ‚ùå Not Used | Bill-to address line 2 | "Suite 200" |
| `BillingCity` | string | ‚ùå Not Used | Bill-to city | "Seattle" |
| `BillingState` | string | ‚ùå Not Used | Bill-to state | "WA" |
| `BillingZip` | string | ‚ùå Not Used | Bill-to ZIP | "98101" |
| `BillingCountry` | string | ‚ùå Not Used | Bill-to country | "USA" |

### Custom Fields (Customer Level)

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `CustomField01` | string | ‚ùå Not Used | Custom tracking | "Web Tier 1" |
| `CustomField02` | string | ‚ùå Not Used | Custom tracking | "Monthly" |
| `CustomField03` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField04` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField05` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField06` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomDateField01` | string | ‚ùå Not Used | Date tracking | "2025-01-01" |
| `CustomDateField02` | string | ‚ùå Not Used | Date tracking | "" |
| `CustomDateField03` | string | ‚ùå Not Used | Date tracking | "" |
| `CustomDateField04` | string | ‚ùå Not Used | Date tracking | "" |

**Future Implementation Example:**
```javascript
Customer: {
  CompanyName: formData.company,
  CustomerType: "Web",
  CustomerSource: "Sample Request",
  TaxExempt: "N",
  BillingCompany: formData.company,
  BillingAddress01: formData.address1,
  BillingCity: formData.city,
  BillingState: formData.state,
  BillingZip: formData.zip,
  BillingCountry: "USA",
  CustomField01: "Top Sellers Showcase"
}
```

---

## Line Item Fields {#line-item-fields}

### Basic Product Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `PartNumber` | string | ‚úÖ Used | `lineItems[].partNumber` | Product SKU | "PC54" |
| `Description` | string | ‚úÖ Used | `lineItems[].description` | Product name | "Port & Company Tee" |
| `Color` | string | ‚úÖ Used | `lineItems[].color` | Product color | "Lilac" |
| `Size` | string | ‚úÖ Used | `lineItems[].size` | Size (auto-translated) | "L" ‚Üí translated to OnSite format |
| `Qty` | string | ‚úÖ Used | `lineItems[].quantity` | Quantity | "1" |
| `Price` | string | ‚úÖ Used | `lineItems[].price` | Unit price | "0.01" |

**Size Translation:** Proxy automatically translates web sizes to OnSite format:
- S ‚Üí Size01
- M ‚Üí Size02
- L ‚Üí Size03
- XL ‚Üí Size04
- 2XL ‚Üí Size05
- 3XL ‚Üí Size06
- OSFA ‚Üí Other XXXL

### Display Override Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `DisplayAsPartNumber` | string | ‚ùå Not Used | `lineItems[].displayPartNumber` | Override displayed SKU | "CUSTOM-PC54" |
| `DisplayAsDescription` | string | ‚ùå Not Used | `lineItems[].displayDescription` | Override displayed name | "Custom Shirt" |

**Use Case:** Show custom name/SKU on invoices while using standard SKU for inventory.

### Personalization Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `NameFirst` | string | ‚ùå Not Used | `lineItems[].playerName.first` | Player/recipient first name | "Mike" |
| `NameLast` | string | ‚ùå Not Used | `lineItems[].playerName.last` | Player/recipient last name | "Johnson" |

**Future Implementation:**
```javascript
lineItems: [{
  partNumber: "PC54",
  description: "Team Jersey",
  color: "Red",
  size: "L",
  quantity: 1,
  price: 25.00,
  playerName: {
    first: "Mike",
    last: "Johnson"
  }
}]
```

### Notes Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `LineItemNotes` | string | ‚ùå Not Used | `lineItems[].notes` | Line item notes | "Left chest logo" |
| `WorkOrderNotes` | string | ‚ùå Not Used | `lineItems[].workOrderNotes` | Production notes | "Use red thread" |

### Design Linking Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ExtDesignIDBlock` | string | ‚ùå Not Used | N/A | External design ID | "DESIGN-001" |
| `DesignIDBlock` | string | ‚ùå Not Used | N/A | Internal design ID | "123" |
| `ExtShipID` | string | ‚úÖ **AUTO** | N/A | Shipping address link | "SHIP-1" |

### Configuration Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `id_ProductClass` | number | ‚úÖ **AUTO** | N/A | Product class ID | 1 |

### Custom Fields (5 per Line Item)

| Field | Data Type | Status | Future Use Case | Example |
|-------|-----------|--------|-----------------|---------|
| `CustomField01` | string | ‚ùå Not Used | Sample tracking | "FREE SAMPLE" |
| `CustomField02` | string | ‚ùå Not Used | Source tracking | "Top Sellers Showcase" |
| `CustomField03` | string | ‚ùå Not Used | Date tracking | "2025-10-27" |
| `CustomField04` | string | ‚ùå Not Used | Custom data | "" |
| `CustomField05` | string | ‚ùå Not Used | Custom data | "" |

**Quick Win Enhancement:**
```javascript
lineItems: samples.map(sample => ({
  partNumber: sample.style,
  description: sample.name,
  color: sample.catalogColor,
  size: sample.size || 'OSFA',
  quantity: 1,
  price: 0.01,
  customFields: {
    CustomField01: 'FREE SAMPLE',
    CustomField02: 'Top Sellers Showcase',
    CustomField03: new Date().toLocaleDateString()
  }
}))
```

---

## Design Block Fields {#design-block-fields}

**Status:** ‚ùå Not Currently Implemented
**Future Value:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê **HIGH** - Essential for production workflow

### Design-Level Fields

| Field | Data Type | Description | Example | Use Case |
|-------|-----------|-------------|---------|----------|
| `DesignName` | string | Design name | "Team Logo" | Identify design |
| `ExtDesignID` | string | Your design ID | "DESIGN-001" | Track in your system |
| `id_Design` | number | ShopWorks design ID | 123 | Link existing design |
| `id_DesignType` | number | Design type ID | 1 | Screen print, embroidery, etc. |
| `id_Artist` | number | Artist ID | 5 | Assign to artist |
| `ForProductColor` | string | Product color | "Red" | Color-specific designs |
| `VendorDesignID` | string | Vendor design ID | "VENDOR-123" | Third-party tracking |

### Custom Fields (Design Level)

| Field | Data Type | Description | Example |
|-------|-----------|-------------|---------|
| `CustomField01` | string | Custom data | "Rush" |
| `CustomField02` | string | Custom data | "" |
| `CustomField03` | string | Custom data | "" |
| `CustomField04` | string | Custom data | "" |
| `CustomField05` | string | Custom data | "" |

### Location-Level Fields (Nested)

| Field | Data Type | Description | Example | Critical For |
|-------|-----------|-------------|---------|--------------|
| `Location` | string | Print location | "Left Chest" | Production |
| `TotalColors` | string | Number of colors | "2" | Screen print |
| `TotalFlashes` | string | Number of flashes | "3" | Screen print |
| `TotalStitches` | string | Stitch count | "8000" | Embroidery |
| `DesignCode` | string | Location code | "LC-001" | Tracking |
| `ImageURL` | string | Design image URL | "https://..." | Visual reference |
| `Notes` | string | Location notes | "3 inch logo" | Instructions |

### Custom Fields (Location Level)

| Field | Data Type | Description | Example |
|-------|-----------|-------------|---------|
| `CustomField01` | string | Custom data | "" |
| `CustomField02` | string | Custom data | "" |
| `CustomField03` | string | Custom data | "" |
| `CustomField04` | string | Custom data | "" |
| `CustomField05` | string | Custom data | "" |

### LocationDetails Fields (Nested within Locations)

| Field | Data Type | Description | Example |
|-------|-----------|-------------|---------|
| `Color` | string | Thread/ink color | "Red" |
| `ThreadBreak` | string | Thread break info | "" |
| `ParameterLabel` | string | Parameter name | "Width" |
| `ParameterValue` | string | Parameter value | "3 inches" |
| `Text` | string | Text to print | "TEAM NAME" |

### Custom Fields (LocationDetails Level)

| Field | Data Type | Description |
|-------|-----------|-------------|
| `CustomField01` | string | Custom data |
| `CustomField02` | string | Custom data |
| `CustomField03` | string | Custom data |
| `CustomField04` | string | Custom data |
| `CustomField05` | string | Custom data |

### Complete Design Block Example

```javascript
designs: [
  {
    name: "Team Logo",
    externalId: "DESIGN-001",
    imageUrl: "https://example.com/logo.jpg",
    productColor: "Red",
    locations: [
      {
        location: "Left Chest",
        colors: "2",
        flashes: "0",
        stitches: "8000",
        code: "LC",
        imageUrl: "https://example.com/logo-lc.jpg",
        notes: "3 inch logo centered"
      },
      {
        location: "Full Back",
        colors: "3",
        flashes: "1",
        stitches: "15000",
        code: "FB",
        notes: "12 inch logo, add player name below"
      }
    ]
  }
]
```

---

## Payment Block Fields {#payment-block-fields}

**Status:** ‚ùå Not Currently Implemented
**Future Value:** ‚≠ê‚≠ê‚≠ê‚≠ê **HIGH** - Important for paid orders

### Payment Transaction Fields

| Field | Data Type | Description | Example | Source |
|-------|-----------|-------------|---------|--------|
| `date_Payment` | string | Payment date (MM/DD/YYYY) | "10/27/2025" | Payment gateway |
| `Amount` | number | Payment amount | 306.00 | Payment gateway |
| `Status` | string | Payment status | "success" | Payment gateway |
| `Gateway` | string | Payment gateway name | "Stripe" | Your integration |
| `AuthCode` | string | Authorization code | "ch_1234567890" | Payment gateway |
| `AccountNumber` | string | Last 4 of card | "****4242" | Payment gateway |
| `CreditCardCompany` | string | Card brand | "Visa" | Payment gateway |
| `ResponseCode` | string | Gateway response code | "00" | Payment gateway |
| `ResponseReasonCode` | string | Reason code | "1" | Payment gateway |
| `ResponseReasonText` | string | Reason text | "Approved" | Payment gateway |
| `FeeProcessing` | number | Processing fee | 8.97 | Payment gateway |
| `FeeOther` | number | Other fees | 0 | Payment gateway |

### Payment Status Values

- `"success"` - Payment completed successfully
- `"failed"` - Payment failed
- `"pending"` - Payment pending
- `"refunded"` - Payment refunded

### Stripe Integration Example

```javascript
// After successful Stripe payment
payments: [{
  date: new Date().toISOString().split('T')[0], // YYYY-MM-DD (proxy converts)
  amount: stripeCharge.amount / 100, // Convert cents to dollars
  status: "success",
  gateway: "Stripe",
  authCode: stripeCharge.id, // "ch_1234567890"
  accountNumber: `****${stripeCharge.payment_method_details.card.last4}`,
  cardCompany: stripeCharge.payment_method_details.card.brand, // "visa"
  responseCode: stripeCharge.outcome.network_status, // "approved_by_network"
  responseReasonText: "Approved",
  feeProcessing: (stripeCharge.amount * 0.029 + 30) / 100 // 2.9% + $0.30
}]
```

### PayPal Integration Example

```javascript
// After successful PayPal payment
payments: [{
  date: new Date().toISOString().split('T')[0],
  amount: paypalOrder.purchase_units[0].amount.value,
  status: "success",
  gateway: "PayPal",
  authCode: paypalOrder.id,
  accountNumber: paypalOrder.payer.email_address,
  responseReasonText: paypalOrder.status // "COMPLETED"
}]
```

---

## Shipping Address Fields {#shipping-address-fields}

**Status:** ‚úÖ Mostly Implemented (7 of 8 fields)

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ShipCompany` | string | ‚úÖ Used | `shipping.company` | Ship-to company | "ABC Company" |
| `ShipAddress01` | string | ‚úÖ Used | `shipping.address1` | Street address | "123 Main St" |
| `ShipAddress02` | string | ‚úÖ Used | `shipping.address2` | Apt/Suite | "Suite 200" |
| `ShipCity` | string | ‚úÖ Used | `shipping.city` | City | "Seattle" |
| `ShipState` | string | ‚úÖ Used | `shipping.state` | State (2-letter) | "WA" |
| `ShipZip` | string | ‚úÖ Used | `shipping.zip` | ZIP code | "98101" |
| `ShipCountry` | string | ‚úÖ Used | `shipping.country` | Country | "USA" |
| `ShipMethod` | string | ‚úÖ **NEW** | `shipping.method` | Shipping method | "UPS Ground" |
| `ExtShipID` | string | ‚úÖ **AUTO** | N/A | Address identifier | "SHIP-1" |

### Multiple Addresses

ShopWorks supports multiple shipping addresses per order. Each address gets a unique `ExtShipID`, and line items link to addresses via `ExtShipID`.

**Implementation Example:**
```javascript
// Order with 2 shipping addresses
shipping: [
  {
    company: "ABC Company - Warehouse",
    address1: "123 Main St",
    city: "Seattle",
    state: "WA",
    zip: "98101",
    country: "USA",
    method: "Freight"
  },
  {
    company: "ABC Company - Office",
    address1: "456 Oak Ave",
    city: "Tacoma",
    state: "WA",
    zip: "98402",
    country: "USA",
    method: "UPS Ground"
  }
],
lineItems: [
  {
    partNumber: "PC54",
    quantity: 100,
    // ... other fields ...
    shipToAddressIndex: 0  // Links to first address (SHIP-1)
  },
  {
    partNumber: "C112",
    quantity: 50,
    // ... other fields ...
    shipToAddressIndex: 1  // Links to second address (SHIP-2)
  }
]
```

---

## Notes Block Fields {#notes-block-fields}

**Status:** ‚úÖ Basic Implementation (1 of 8 types used)

### Note Structure

| Field | Data Type | Description | Example |
|-------|-----------|-------------|---------|
| `Type` | string | Note type (see below) | "Notes On Order" |
| `Note` | string | Note text | "Customer requested rush" |

### Valid Note Types

| Type | Current Status | Description | Use Case |
|------|----------------|-------------|----------|
| `"Notes On Order"` | ‚úÖ Used | General order notes | Currently used for customer info |
| `"Notes To Art"` | ‚ùå Not Used | Art department notes | Design specifications |
| `"Notes To Purchasing"` | ‚ùå Not Used | Purchasing notes | Special vendor requirements |
| `"Notes To Subcontract"` | ‚ùå Not Used | Subcontractor notes | Outsourced work instructions |
| `"Notes To Production"` | ‚ùå Not Used | Production notes | Special handling |
| `"Notes To Receiving"` | ‚ùå Not Used | Receiving notes | Inspection requirements |
| `"Notes To Shipping"` | ‚ùå Not Used | Shipping notes | Expedite instructions |
| `"Notes To Accounting"` | ‚ùå Not Used | Accounting notes | Payment terms |

### Current Implementation

```javascript
notes: [{
  type: 'Notes On Order',
  text: `FREE SAMPLE - Top Sellers Showcase - ${formData.company || formData.lastName}`
}]
```

### Enhanced Multi-Note Implementation

```javascript
notes: [
  {
    type: 'Notes On Order',
    text: `FREE SAMPLE REQUEST\nCompany: ${formData.company || 'Individual'}\nSubmitted: ${new Date().toLocaleString()}\nOrder Type: Top Sellers Showcase`
  },
  {
    type: 'Notes To Shipping',
    text: 'Sample order - expedite shipping if possible. No signature required.'
  },
  {
    type: 'Notes To Production',
    text: 'FREE SAMPLE - Standard production schedule acceptable.'
  }
]
```

---

## Attachments Block Fields {#attachments-block-fields}

**Status:** ‚ùå Not Currently Implemented
**Future Value:** ‚≠ê‚≠ê‚≠ê **MEDIUM** - Useful for design files

| Field | Data Type | Description | Example | Use Case |
|-------|-----------|-------------|---------|----------|
| `MediaURL` | string | URL to media file | "https://s3.../design.pdf" | Design files |
| `MediaName` | string | Display name | "Team Logo - Vector" | User-friendly name |
| `LinkURL` | string | URL to external resource | "https://drive.google.com/..." | Google Drive, Dropbox |
| `LinkNote` | string | Note about link | "Final approved design" | Context |
| `Link` | number | Link type (0 or 1) | 1 | Unclear purpose |

### Future Implementation Example

```javascript
attachments: [
  {
    mediaURL: "https://s3.amazonaws.com/nwca/designs/logo-vector.pdf",
    mediaName: "Team Logo - Vector File",
    linkNote: "Final approved design from customer"
  },
  {
    linkURL: "https://drive.google.com/file/d/...",
    mediaName: "Mockup Images",
    linkNote: "Customer mockup folder - 5 files"
  }
]
```

---

## Field Mapping Quick Reference {#field-mapping-quick-reference}

### Order Level

| Your Field | Proxy Transforms To | Swagger Field | Status |
|------------|---------------------|---------------|--------|
| `orderNumber` | ExtOrderID (with prefix) | `ExtOrderID` | ‚úÖ Auto |
| `orderDate` | MM/DD/YYYY format | `date_OrderPlaced` | ‚úÖ Auto |
| `requestedShipDate` | MM/DD/YYYY format | `date_OrderRequestedToShip` | ‚ö†Ô∏è Available |
| `dropDeadDate` | MM/DD/YYYY format | `date_OrderDropDead` | ‚ö†Ô∏è Available |
| `purchaseOrderNumber` | Direct pass-through | `CustomerPurchaseOrder` | ‚úÖ NEW |
| `salesRep` | Direct pass-through | `CustomerServiceRep` | ‚úÖ NEW |
| `terms` | Direct pass-through | `Terms` | ‚úÖ NEW |
| `shippingAmount` | Direct pass-through | `cur_Shipping` | ‚úÖ Used |

### Customer

| Your Field | Proxy Transforms To | Swagger Field | Status |
|------------|---------------------|---------------|--------|
| `customer.firstName` | Direct pass-through | `ContactNameFirst` | ‚úÖ Used |
| `customer.lastName` | Direct pass-through | `ContactNameLast` | ‚úÖ Used |
| `customer.email` | Direct pass-through | `ContactEmail` | ‚úÖ Used |
| `customer.phone` | Direct pass-through | `ContactPhone` | ‚úÖ Used |
| `customer.company` | (not sent) | `Customer.CompanyName` | ‚ö†Ô∏è Available |

### Line Items

| Your Field | Proxy Transforms To | Swagger Field | Status |
|------------|---------------------|---------------|--------|
| `partNumber` | Direct pass-through | `PartNumber` | ‚úÖ Used |
| `description` | Direct pass-through | `Description` | ‚úÖ Used |
| `color` | Direct pass-through | `Color` | ‚úÖ Used |
| `size` | **Translated** (S‚ÜíSize01, M‚ÜíSize02, etc.) | `Size` | ‚úÖ Used |
| `quantity` | Direct pass-through | `Qty` | ‚úÖ Used |
| `price` | Direct pass-through | `Price` | ‚úÖ Used |
| `notes` | Direct pass-through | `LineItemNotes` | ‚ö†Ô∏è Available |
| `workOrderNotes` | Direct pass-through | `WorkOrderNotes` | ‚ö†Ô∏è Available |
| `playerName.first` | Direct pass-through | `NameFirst` | ‚ö†Ô∏è Available |
| `playerName.last` | Direct pass-through | `NameLast` | ‚ö†Ô∏è Available |
| `customFields.CustomField01` | Direct pass-through | `CustomField01` | ‚ö†Ô∏è Available |

### Shipping

| Your Field | Proxy Transforms To | Swagger Field | Status |
|------------|---------------------|---------------|--------|
| `shipping.company` | Direct pass-through | `ShipCompany` | ‚úÖ Used |
| `shipping.address1` | Direct pass-through | `ShipAddress01` | ‚úÖ Used |
| `shipping.address2` | Direct pass-through | `ShipAddress02` | ‚úÖ Used |
| `shipping.city` | Direct pass-through | `ShipCity` | ‚úÖ Used |
| `shipping.state` | Direct pass-through | `ShipState` | ‚úÖ Used |
| `shipping.zip` | Direct pass-through | `ShipZip` | ‚úÖ Used |
| `shipping.country` | Direct pass-through | `ShipCountry` | ‚úÖ Used |
| `shipping.method` | Direct pass-through | `ShipMethod` | ‚úÖ NEW |

---

## Implementation Snippets {#implementation-snippets}

### Basic Sample Order (Current)

```javascript
const order = {
  orderNumber: "SAMPLE-1027-1",
  orderDate: "2025-10-27",
  isTest: false,
  purchaseOrderNumber: "SAMPLE-SAMPLE-1027-1",
  salesRep: "erik@nwcustomapparel.com",
  terms: "FREE SAMPLE",

  customer: {
    firstName: "Mike",
    lastName: "Test",
    email: "erik@go2shirt.com",
    phone: "555-5555",
    company: "Test Company"
  },

  shipping: {
    company: "Test Company",
    address1: "123 Main St",
    address2: "",
    city: "Seattle",
    state: "WA",
    zip: "98101",
    country: "USA",
    method: "UPS Ground"
  },

  lineItems: [
    {
      partNumber: "PC54",
      description: "Port & Company Core Cotton Tee",
      color: "Lilac",
      size: "XL",
      quantity: 1,
      price: 0.01
    }
  ],

  notes: [{
    type: 'Notes On Order',
    text: 'FREE SAMPLE - Top Sellers Showcase - Test Company'
  }]
};
```

### Enhanced Sample Order with Custom Fields

```javascript
const order = {
  // ... all fields from basic example ...

  lineItems: samples.map(sample => ({
    partNumber: sample.style,
    description: sample.name,
    color: sample.catalogColor,
    size: sample.size || 'OSFA',
    quantity: 1,
    price: 0.01,

    // ADD CUSTOM FIELDS FOR TRACKING
    customFields: {
      CustomField01: 'FREE SAMPLE',
      CustomField02: 'Top Sellers Showcase',
      CustomField03: sample.addedDate,
      CustomField04: sample.type, // 'free' or 'paid'
      CustomField05: `${sample.color} ‚Üí ${sample.catalogColor}` // Color mapping log
    }
  })),

  // ENHANCED NOTES
  notes: [
    {
      type: 'Notes On Order',
      text: `FREE SAMPLE REQUEST\nCompany: ${formData.company || 'Individual'}\nSubmitted: ${new Date().toLocaleString()}\nSource: Top Sellers Showcase\nSample Count: ${samples.length}`
    },
    {
      type: 'Notes To Shipping',
      text: 'Sample order - expedite if possible. No signature required.'
    },
    {
      type: 'Notes To Production',
      text: 'FREE SAMPLE - Standard turnaround acceptable. No special handling required.'
    }
  ]
};
```

### Paid Order with Payment Integration

```javascript
// After successful Stripe payment
const order = {
  orderNumber: "WEB-12345",
  orderDate: "2025-10-27",
  isTest: false,
  purchaseOrderNumber: customerData.poNumber || "WEB-12345",
  salesRep: "erik@nwcustomapparel.com",
  terms: "PREPAID - Credit Card",

  customer: {
    firstName: customerData.firstName,
    lastName: customerData.lastName,
    email: customerData.email,
    phone: customerData.phone,
    company: customerData.company
  },

  shipping: {
    company: shippingData.company,
    address1: shippingData.address1,
    address2: shippingData.address2 || '',
    city: shippingData.city,
    state: shippingData.state,
    zip: shippingData.zip,
    country: "USA",
    method: shippingData.selectedMethod // "UPS Ground", "USPS Priority", etc.
  },

  lineItems: cartItems.map(item => ({
    partNumber: item.sku,
    description: item.name,
    color: item.catalogColor,
    size: item.size,
    quantity: item.quantity,
    price: item.unitPrice,
    notes: item.decorationNotes, // e.g., "Left chest logo - 3 inch"
  })),

  // ADD PAYMENT INFORMATION
  payments: [{
    date: new Date().toISOString().split('T')[0],
    amount: stripeCharge.amount / 100,
    status: "success",
    gateway: "Stripe",
    authCode: stripeCharge.id,
    accountNumber: `****${stripeCharge.payment_method_details.card.last4}`,
    cardCompany: stripeCharge.payment_method_details.card.brand,
    responseReasonText: "Approved",
    feeProcessing: (stripeCharge.amount * 0.029 + 30) / 100
  }],

  notes: [
    {
      type: 'Notes On Order',
      text: `Web Order - Prepaid\nPayment: ${stripeCharge.payment_method_details.card.brand} ending in ${stripeCharge.payment_method_details.card.last4}\nAuth Code: ${stripeCharge.id}`
    },
    {
      type: 'Notes To Production',
      text: customerData.productionNotes || 'Standard production'
    }
  ]
};
```

### Order with Design Specifications

```javascript
const order = {
  // ... basic order fields ...

  // ADD DESIGN INFORMATION
  designs: [
    {
      name: "Company Logo",
      externalId: `DESIGN-${Date.now()}`,
      imageUrl: designFileUrl, // S3 or CDN URL
      productColor: "Navy",
      locations: [
        {
          location: "Left Chest",
          colors: "2",
          stitches: "8000",
          code: "LC",
          imageUrl: designFileUrl,
          notes: "3 inch logo centered"
        },
        {
          location: "Full Back",
          colors: "3",
          stitches: "15000",
          code: "FB",
          notes: "12 inch logo with player name below"
        }
      ]
    }
  ],

  lineItems: [
    {
      partNumber: "PC54",
      description: "Team Jersey",
      color: "Navy",
      size: "L",
      quantity: 1,
      price: 35.00,
      playerName: {
        first: "Mike",
        last: "Johnson"
      },
      notes: "Left chest and full back decoration"
    }
  ]
};
```

---

## Troubleshooting Guide {#troubleshooting-guide}

### Fields Not Appearing in ShopWorks

#### Problem: Fields show in console but not in ShopWorks invoice

**Possible Causes:**

1. **Hourly Import Delay**
   - ManageOrders receives orders immediately
   - OnSite imports from ManageOrders **every hour**
   - Some fields may not appear until hourly import runs
   - **Solution:** Wait for next hourly import, then check again

2. **Field Mapping Configuration**
   - Some fields may need to be enabled in ShopWorks OnSite settings
   - Invoice templates may not display certain fields
   - **Solution:** Check ShopWorks OnSite field settings and invoice templates

3. **Field Name Spelling Discrepancy**
   - Swagger shows `CustomerSeviceRep` (missing 'r')
   - Proxy sends `CustomerServiceRep` (correct spelling)
   - If ShopWorks expects the misspelled version, field won't populate
   - **Solution:** Test with both spellings if issues persist

4. **Invalid Field Values**
   - Sales rep must exist in ShopWorks system
   - Terms must match valid ShopWorks terms
   - Ship method must match valid methods
   - **Solution:** Verify values match ShopWorks data

#### Problem: Colors not appearing

**Cause:** Using display color name instead of catalog color

**Solution:**
```javascript
// ‚ùå WRONG
color: "Forest Green"  // Display name

// ‚úÖ CORRECT
color: "Forest"  // Exact ShopWorks catalog color
```

#### Problem: Size not translated correctly

**Cause:** Sending web size directly instead of letting proxy translate

**Solution:** Let proxy handle translation:
```javascript
// ‚úÖ CORRECT - Let proxy translate
size: "L"  // Proxy translates to Size03

// Don't manually translate:
size: "Size03"  // May cause issues
```

### API Errors

#### 400 Bad Request

**Common Causes:**
- Missing required field (`orderNumber`, `customer`, or `lineItems`)
- Invalid data type (string instead of number)
- Invalid date format (use YYYY-MM-DD)
- Empty line items array

**Solution:** Check console logs for specific error message

#### 401 Unauthorized

**Cause:** API authentication failed

**Solution:** Check that `caspio-pricing-proxy` is running and credentials are configured

#### 500 Internal Server Error

**Cause:** Server-side error in ManageOrders API

**Solution:**
1. Check ManageOrders API status
2. Review error details in proxy logs
3. Contact ShopWorks support if persistent

### Testing Checklist

**Before Going Live:**
- [ ] Test with `isTest: true` flag
- [ ] Verify order appears in ManageOrders
- [ ] Check order imports to OnSite after hourly import
- [ ] Verify all expected fields populate
- [ ] Test with various product types
- [ ] Test with different shipping addresses
- [ ] Test with multiple line items
- [ ] Verify color mapping works (CATALOG_COLOR)
- [ ] Verify size translation works
- [ ] Check notes appear correctly

**After Going Live:**
- [ ] Monitor first 10 orders closely
- [ ] Verify fields consistency
- [ ] Check production can read orders correctly
- [ ] Confirm shipping labels generate properly
- [ ] Verify customer info is accessible

---

## Next Steps & Future Enhancements

### Phase 2: Quick Wins (High Value, Low Effort)

**Priority 1: Line Item Custom Fields**
- Add `CustomField01-05` to track:
  - Sample type (FREE vs PAID)
  - Source (Top Sellers Showcase, etc.)
  - Submission date
  - Color mapping log
  - Special handling flags

**Priority 2: Enhanced Notes**
- Use all 8 note types:
  - Notes On Order (already using)
  - Notes To Shipping (expedite instructions)
  - Notes To Production (special handling)
  - Notes To Art (design specifications)

**Priority 3: Date Fields**
- Add `requestedShipDate` (customer requested date)
- Add `dropDeadDate` (deadline for event)

### Phase 3: Major Features

**Design Block Integration**
- Track artwork specifications
- Link design files
- Record color counts, stitch counts
- Multiple locations per design
- Image URL references

**Payment Integration**
- Stripe payment tracking
- PayPal payment tracking
- Payment status updates
- Processing fee tracking
- Auth code storage

**Customer Block (If Creating New Customers)**
- Company information
- Billing address
- Tax settings
- Custom fields for segmentation

**Attachments**
- Design file links
- Mockup images
- Approval documents
- Reference materials

---

## Appendix: Swagger Spec Field Count

### Total Available Fields by Block

| Block | Fields |
|-------|--------|
| Order-Level | 23 |
| Customer | 27 |
| Designs (per design) | 10 |
| Designs.Locations (per location) | 10 |
| Designs.Locations.LocationDetails (per detail) | 7 |
| LinesOE (per line item) | 18 |
| Notes (per note) | 2 |
| Payments (per payment) | 12 |
| ShippingAddresses (per address) | 8 |
| Attachments (per attachment) | 5 |
| **Total** | ~158+ (varies with arrays) |

### Implementation Density

- **Heavily Implemented:** Shipping Address (88%)
- **Moderately Implemented:** Order-Level (52%), Line Items (44%)
- **Lightly Implemented:** Notes (12.5%)
- **Not Implemented:** Customer, Designs, Payments, Attachments (0%)

**Overall Implementation:** ~20% of available fields currently in use

**Growth Potential:** 80% of fields available for future enhancements

---

**Documentation Version:** 1.0.0
**Last Updated:** October 27, 2025
**Maintained By:** Erik & Claude AI
**Questions:** Contact erik@nwcustomapparel.com

---

**Related Documentation:**
- [MANAGEORDERS_INTEGRATION.md](MANAGEORDERS_INTEGRATION.md) - PULL API (read data)
- [MANAGEORDERS_PUSH_WEBSTORE.md](MANAGEORDERS_PUSH_WEBSTORE.md) - PUSH API overview
- [ONLINE_STORE_DEVELOPER_GUIDE.md](../caspio-pricing-proxy/memory/ONLINE_STORE_DEVELOPER_GUIDE.md) - Complete PUSH API guide

**Proxy Source Code:**
- `caspio-pricing-proxy/lib/manageorders-push-client.js` - Field transformation logic
- `caspio-pricing-proxy/config/manageorders-push-config.js` - Configuration & defaults
