# Order & Customer Fields - ManageOrders PUSH API

**Version:** 2.0.1
**Last Updated:** October 29, 2025
**Part of:** ManageOrders PUSH API Documentation
**Parent Document:** [Field Reference Core](FIELD_REFERENCE_CORE.md)

---

## üìã Navigation

**< Back to [Field Reference Core](FIELD_REFERENCE_CORE.md)**

**Related Documentation:**
- [Product Fields](PRODUCT_FIELDS.md) - Line items and design blocks
- [Payment & Shipping Fields](PAYMENT_SHIPPING_FIELDS.md) - Payment and shipping data
- [Implementation Examples](IMPLEMENTATION_EXAMPLES.md) - Working code snippets
- [Troubleshooting](TROUBLESHOOTING.md) - Common issues and solutions

---

## Overview

This document covers **81 fields** across two blocks:
- **Order-Level Fields:** 27 fields for order identification, dates, contacts, and configuration
- **Customer Block Fields:** 54 fields for company info, billing address, and custom tracking

**Current Implementation:** 12 of 27 order-level fields (44%), 0 of 54 customer fields (0%)

---

## Order-Level Fields {#order-level-fields}

### Required Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ExtOrderID` | string | ‚úÖ **AUTO** | N/A | Unique order ID with NWCA prefix | "NWCA-SAMPLE-1027-1" |
| `id_Customer` | number | ‚úÖ **AUTO** | N/A | Customer ID (all orders ‚Üí 2791) | 2791 |
| `id_OrderType` | number | ‚úÖ **AUTO** | N/A | Order type (6 = web orders) | 6 |

**Notes:**
- `ExtOrderID` automatically generated by proxy: `NWCA-{orderNumber}` (or `NWCA-TEST-{orderNumber}` for test orders)
- `id_Customer` hardcoded to 2791 for all web orders
- `id_OrderType` hardcoded to 6 for web orders

### Order Identification Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ExtSource` | string | ‚úÖ Used | N/A | Source system identifier | "NWCA-WEBSTORE" |
| `ExtCustomerID` | string | ‚úÖ **AUTO** | N/A | External customer ID | "NWCA-CUST-SAMPLE-1027-1" |
| `ExtCustomerPref` | string | ‚úÖ **AUTO** | N/A | Customer prefix | "NWCA" |
| `CustomerPurchaseOrder` | string | ‚úÖ **NEW** | `purchaseOrderNumber` | Customer PO number | "SAMPLE-1027-1" |

**Implementation:**
```javascript
purchaseOrderNumber: `SAMPLE-${orderNumber}`,  // For samples
// OR
purchaseOrderNumber: customerData.actualPO,    // For real orders
```

### Date Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `date_OrderPlaced` | string | ‚úÖ Used | `orderDate` | Order date (MM/DD/YYYY) | "10/27/2025" |
| `date_OrderRequestedToShip` | string | ‚ùå Not Used | `requestedShipDate` | Requested ship date | "11/03/2025" |
| `date_OrderDropDead` | string | ‚ùå Not Used | `dropDeadDate` | Drop-dead date | "11/10/2025" |
| `date_OrderNeeded` | string | ‚úÖ **NEW** | `dateNeeded` | Rush delivery deadline | "10/30/2025" |

**Format Note:** Proxy auto-converts YYYY-MM-DD ‚Üí MM/DD/YYYY

**Implementation:**
```javascript
orderDate: "2025-10-27",              // You send this
requestedShipDate: "2025-11-03",      // Optional
dropDeadDate: "2025-11-10"            // Optional
```

### Contact Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `ContactNameFirst` | string | ‚úÖ Used | `customer.firstName` | Contact first name | "Mike" |
| `ContactNameLast` | string | ‚úÖ Used | `customer.lastName` | Contact last name | "Test" |
| `ContactEmail` | string | ‚úÖ Used | `customer.email` | Contact email | "erik@go2shirt.com" |
| `ContactPhone` | string | ‚úÖ Used | `customer.phone` | Contact phone | "555-5555" |

### Sales & Billing Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `CustomerServiceRep` | string | ‚úÖ **NEW** | `salesRep` | Sales rep name/email | "erik@nwcustomapparel.com" |
| `Terms` | string | ‚úÖ **NEW** | `terms` | Payment terms | "FREE SAMPLE" |
| `cur_Shipping` | number | ‚úÖ Used | `shippingAmount` | Shipping cost | 0 |
| `TaxTotal` | number | ‚ùå Not Used | N/A | Tax amount | 0 |
| `TotalDiscounts` | number | ‚ùå Not Used | N/A | Total discounts | 0 |
| `DiscountPartNumber` | string | ‚ùå Not Used | N/A | Discount product SKU | "" |
| `DiscountPartDescription` | string | ‚ùå Not Used | N/A | Discount description | "" |

**Note:** ShopWorks Swagger shows `CustomerSeviceRep` (typo - missing 'r'), but proxy sends correctly spelled `CustomerServiceRep`.

---

### üö® Tax Implementation - CRITICAL

**How Tax Works in ShopWorks OnSite:**

ShopWorks has a specific way of handling sales tax that differs from typical e-commerce platforms. Understanding this is critical to prevent duplicate tax entries.

**The Correct Way:**

1. **Send tax fields at ORDER level** (in the main order object):
   - `TaxTotal`: Total tax amount for the entire order
   - `TaxPartNumber`: Must match a product in your ShopWorks catalog (e.g., "Tax_10.1")
   - `TaxPartDescription`: Must match the product description in your catalog

2. **ShopWorks automatically creates a tax line item** during the hourly import process

3. **‚ùå DO NOT add tax as a line item** in the `LinesOE[]` array - this causes DUPLICATE tax entries

**Example Implementation:**

```javascript
// ‚úÖ CORRECT - Tax at order level only
const order = {
    extOrderId: "SAMPLE-1027-1",
    taxTotal: 50.00,                           // Order-level tax
    taxPartNumber: "Tax_10.1",                 // Must match ShopWorks catalog
    taxPartDescription: "City of Milton Sales Tax 10.1%",
    lineItems: [
        { partNumber: "PC54", quantity: 48, price: 10.00 },
        { partNumber: "PC61", quantity: 24, price: 12.00 }
        // ‚ùå DO NOT include: { partNumber: "TAX", description: "Sales Tax", price: 50.00 }
    ]
};

// What ShopWorks does during hourly import:
// 1. Imports PC54 line item
// 2. Imports PC61 line item
// 3. AUTOMATICALLY creates tax line item from TaxTotal field
```

**What Happens If You Add Tax as Line Item:**

```javascript
// ‚ùå WRONG - Creates duplicate tax
const order = {
    taxTotal: 50.00,                           // Tax amount here
    lineItems: [
        { partNumber: "PC54", quantity: 48, price: 10.00 },
        { partNumber: "Tax_10.1", quantity: 1, price: 50.00 }  // ‚ùå AND here = DUPLICATE!
    ]
};

// Result in OnSite:
// - PC54 line item: $480.00
// - Tax line item (from TaxTotal): $50.00
// - Tax line item (from lineItems): $50.00  ‚Üê DUPLICATE!
// - Total: $580.00 (should be $530.00)
```

**Tax Calculation Example:**

```javascript
// Calculate tax for order
const lineItems = [
    { partNumber: "PC54", quantity: 48, price: 10.00 },
    { partNumber: "PC61", quantity: 24, price: 12.00 }
];

const subtotal = lineItems.reduce((sum, item) =>
    sum + (item.quantity * item.price), 0
);  // $768.00

const taxRate = 0.101;  // 10.1%
const taxTotal = subtotal * taxRate;  // $77.57

const order = {
    extOrderId: "SAMPLE-1027-1",
    taxTotal: 77.57,                           // Order level only
    taxPartNumber: "Tax_10.1",                 // From ShopWorks catalog
    taxPartDescription: "City of Milton Sales Tax 10.1%",
    lineItems: lineItems                       // No tax item here
};
```

**TaxPartNumber Configuration:**

The `TaxPartNumber` field must match a product in your ShopWorks product catalog:

| Tax Rate | Part Number | Description |
|----------|-------------|-------------|
| 10.1% | `Tax_10.1` | City of Milton Sales Tax 10.1% |
| 10.5% | `Tax_10.5` | City of Tacoma Sales Tax 10.5% |
| 9.5% | `Tax_9.5` | Pierce County Sales Tax 9.5% |

**Why Explicitly Send Tax Fields:**

You may notice that code explicitly sends `taxPartNumber` and `taxPartDescription` fields even though ShopWorks auto-creates tax line items. **This is CORRECT and necessary.**

These fields tell ShopWorks **WHICH tax product** to use when auto-creating the line item during hourly import:
- `TaxTotal` - Amount of tax to charge
- `taxPartNumber` - ShopWorks product SKU for tax (e.g., "Tax_10.1")
- `taxPartDescription` - Description of tax (e.g., "City of Milton Sales Tax 10.1%")

Without these fields, ShopWorks wouldn't know which tax product to apply, resulting in import errors or incorrect tax application.

**Production Implementation:**

Both current implementations handle tax correctly:

**3-Day Tees (free samples - no tax):**
```javascript
taxTotal: 0,
taxPartNumber: "",
taxPartDescription: ""
```

**Sample Cart (paid samples - with tax):**
```javascript
const taxRate = 0.101;
const taxTotal = subtotal * taxRate;

{
    taxTotal: taxTotal,
    taxPartNumber: "Tax_10.1",
    taxPartDescription: "City of Milton Sales Tax 10.1%"
}
```

**Troubleshooting Tax Issues:**

| Problem | Cause | Solution |
|---------|-------|----------|
| **Duplicate tax** | Tax added as line item AND order-level | Remove tax from lineItems array |
| **Tax not appearing** | Missing TaxPartNumber | Add valid TaxPartNumber from catalog |
| **Wrong tax amount** | Incorrect TaxTotal calculation | Verify subtotal √ó tax rate |
| **Import error** | TaxPartNumber not in catalog | Create product in ShopWorks catalog |

**Key Takeaway:** Tax goes at ORDER level (TaxTotal field), NOT as a line item. ShopWorks creates the tax line item automatically during import.

---

### Status & Configuration Fields

| Field | Data Type | Status | Proxy Field | Description | Example |
|-------|-----------|--------|-------------|-------------|---------|
| `id_CompanyLocation` | number | ‚úÖ **AUTO** | N/A | Company location ID | 1 |
| `id_EmpCreatedBy` | number | ‚úÖ **AUTO** | N/A | Employee who created | 1 |
| `id_SalesStatus` | number | ‚ùå Not Used | N/A | Sales status ID | 0 |
| `id_ReceivingStatus` | number | ‚ùå Not Used | N/A | Receiving status ID | 0 |
| `id_ShippingStatus` | number | ‚ùå Not Used | N/A | Shipping status ID | 0 |
| `OnHold` | number | ‚úÖ **AUTO** | N/A | Order on hold (0=No, 1=Yes) | 0 |

### Custom Property Fields (NEW from Swagger)

| Field | Data Type | Status | Future Use Case | Description | Example |
|-------|-----------|--------|-----------------|-------------|---------|
| `UserProp1` | string | ‚ùå Not Used | Campaign tracking | Custom order property 1 | "Sample Program" |
| `UserProp2` | string | ‚ùå Not Used | Source tracking | Custom order property 2 | "Q4 2025" |
| `UserProp3` | string | ‚ùå Not Used | Category tracking | Custom order property 3 | "Promotional" |
| `OrderMarkedAsInvoiced` | number | ‚ùå Not Used | Invoice status | Invoice flag (0/1) | 0 |

**Business Value:**
- `UserProp1-3`: Track custom order metadata without using notes
- `OrderMarkedAsInvoiced`: Flag orders as invoiced for accounting workflows

**Future Implementation:**
```javascript
// Track sample program participation
order: {
  userProp1: "Free Sample Program",
  userProp2: "Top Sellers Showcase",
  userProp3: `Submitted: ${new Date().toLocaleDateString()}`,
  orderMarkedAsInvoiced: 0  // Not invoiced (free sample)
}
```

---

## Customer Block Fields {#customer-block-fields}

**‚ö†Ô∏è IMPORTANT:** Since all web orders go to Customer #2791, the `Customer` block is **NOT currently sent**. However, these fields are available if you need to create new customers or update existing ones.

### Company Information

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `CompanyName` | string | ‚ùå Not Used | Create new customers | "ABC Company" |
| `CustomerSource` | string | ‚ùå Not Used | Track lead source | "Web" |
| `CustomerType` | string | ‚ùå Not Used | Customer classification | "Retail" |
| `MainEmail` | string | ‚ùå Not Used | Primary contact email | "sales@abc.com" |
| `WebSite` | string | ‚ùå Not Used | Company website | "https://abc.com" |
| `SalesGroup` | string | ‚ùå Not Used | Sales team assignment | "Web Sales" |

### Tax & Billing

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `TaxExempt` | string | ‚ùå Not Used | Tax exemption status | "N" or "Y" |
| `TaxExemptNumber` | string | ‚ùå Not Used | Tax exempt cert number | "EXEMPT-123" |
| `InvoiceNotes` | string | ‚ùå Not Used | Default invoice notes | "Net 30" |
| `CustomerReminderInvoiceNotes` | string | ‚ùå Not Used | Payment reminder text | "Payment due" |

### Billing Address Fields

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `BillingCompany` | string | ‚ùå Not Used | Bill-to company | "ABC Company" |
| `BillingAddress01` | string | ‚ùå Not Used | Bill-to address line 1 | "123 Main St" |
| `BillingAddress02` | string | ‚ùå Not Used | Bill-to address line 2 | "Suite 200" |
| `BillingCity` | string | ‚ùå Not Used | Bill-to city | "Seattle" |
| `BillingState` | string | ‚ùå Not Used | Bill-to state | "WA" |
| `BillingZip` | string | ‚ùå Not Used | Bill-to ZIP | "98101" |
| `BillingCountry` | string | ‚ùå Not Used | Bill-to country | "USA" |

### Custom Fields (Customer Level)

| Field | Data Type | Current Status | Future Use Case | Example |
|-------|-----------|----------------|-----------------|---------|
| `CustomField01` | string | ‚ùå Not Used | Custom tracking | "Web Tier 1" |
| `CustomField02` | string | ‚ùå Not Used | Custom tracking | "Monthly" |
| `CustomField03` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField04` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField05` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomField06` | string | ‚ùå Not Used | Custom tracking | "" |
| `CustomDateField01` | string | ‚ùå Not Used | Date tracking | "2025-01-01" |
| `CustomDateField02` | string | ‚ùå Not Used | Date tracking | "" |
| `CustomDateField03` | string | ‚ùå Not Used | Date tracking | "" |
| `CustomDateField04` | string | ‚ùå Not Used | Date tracking | "" |

**Future Implementation Example:**
```javascript
Customer: {
  CompanyName: formData.company,
  CustomerType: "Web",
  CustomerSource: "Sample Request",
  TaxExempt: "N",
  BillingCompany: formData.company,
  BillingAddress01: formData.address1,
  BillingCity: formData.city,
  BillingState: formData.state,
  BillingZip: formData.zip,
  BillingCountry: "USA",
  CustomField01: "Top Sellers Showcase"
}
```

---

## Related Documentation

**Field Reference Documentation:**
- [Product Fields](PRODUCT_FIELDS.md) - Line items and design blocks
- [Payment & Shipping Fields](PAYMENT_SHIPPING_FIELDS.md) - Payment processing and addresses
- [Implementation Examples](IMPLEMENTATION_EXAMPLES.md) - Working code examples
- [Enhancement Roadmap](ENHANCEMENT_ROADMAP.md) - Future field additions

**Implementation Guides:**
- [Form Development Guide](FORM_DEVELOPMENT_GUIDE.md) - Building custom forms
- [Troubleshooting Guide](TROUBLESHOOTING.md) - Common issues

**Parent Documentation:**
- [Field Reference Core](FIELD_REFERENCE_CORE.md) - Complete field reference
- [MANAGEORDERS_PUSH_WEBSTORE.md](../MANAGEORDERS_PUSH_WEBSTORE.md) - PUSH API overview

---

**Version:** 2.0.1
**Last Updated:** October 29, 2025
**Maintained By:** Erik & Claude AI
**Questions:** Contact erik@nwcustomapparel.com
