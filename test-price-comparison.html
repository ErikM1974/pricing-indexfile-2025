<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Price Comparison View</title>
    <link rel="stylesheet" href="/shared_components/css/shared-pricing-styles.css">
    <link rel="stylesheet" href="/shared_components/css/price-comparison-view.css">
    <style>
        body {
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-pricing-table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }
        .test-pricing-table th,
        .test-pricing-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .test-pricing-table th {
            background: #f0f0f0;
            font-weight: bold;
        }
        .test-controls {
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .test-controls input {
            margin: 0 10px;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Price Comparison View Test</h1>
        
        <div class="test-controls">
            <label>Test Quantity: 
                <input type="number" id="hero-quantity-input" value="24" min="1" max="1000">
            </label>
            <button onclick="updateTestData()">Update Test Data</button>
        </div>

        <!-- Simulated pricing card -->
        <div id="pricing-details" class="content-card">
            <div class="card-header">
                <h2>Test Pricing Table</h2>
            </div>
            <div class="card-content">
                <!-- Price comparison UI will be injected here -->
                
                <!-- Test pricing table -->
                <table id="custom-pricing-grid" class="test-pricing-table">
                    <thead>
                        <tr>
                            <th>Quantity Range</th>
                            <th>5,000 Stitches</th>
                            <th>8,000 Stitches</th>
                            <th>10,000 Stitches</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1 - 11</td>
                            <td>$25.00</td>
                            <td>$28.00</td>
                            <td>$30.00</td>
                        </tr>
                        <tr>
                            <td>12 - 23</td>
                            <td>$15.00</td>
                            <td>$18.00</td>
                            <td>$20.00</td>
                        </tr>
                        <tr>
                            <td>24 - 47</td>
                            <td>$12.00</td>
                            <td>$14.50</td>
                            <td>$16.00</td>
                        </tr>
                        <tr>
                            <td>48 - 71</td>
                            <td>$10.50</td>
                            <td>$12.50</td>
                            <td>$14.00</td>
                        </tr>
                        <tr>
                            <td>72 - 143</td>
                            <td>$9.50</td>
                            <td>$11.00</td>
                            <td>$12.50</td>
                        </tr>
                        <tr>
                            <td>144 - 287</td>
                            <td>$8.75</td>
                            <td>$10.00</td>
                            <td>$11.25</td>
                        </tr>
                        <tr>
                            <td>288 - 499</td>
                            <td>$8.00</td>
                            <td>$9.25</td>
                            <td>$10.50</td>
                        </tr>
                        <tr>
                            <td>500 - 999</td>
                            <td>$7.50</td>
                            <td>$8.75</td>
                            <td>$10.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="test-info">
            <h3>Test Information</h3>
            <ul>
                <li>Click "Compare Stitch Counts" button to open comparison view</li>
                <li>Change quantity to see different tier comparisons</li>
                <li>Quick switch buttons allow rapid quantity changes</li>
                <li>Visual bars show relative pricing</li>
                <li>Savings summary shows potential cost savings</li>
            </ul>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/shared_components/js/nwca-namespace.js"></script>
    <script src="/shared_components/js/price-comparison-view.js"></script>
    <script>
        // Test helper functions
        function updateTestData() {
            // Trigger pricing data loaded event
            document.dispatchEvent(new CustomEvent('pricingDataLoaded'));
            console.log('Test data updated');
        }

        // Simulate quantity change events
        document.getElementById('hero-quantity-input').addEventListener('input', function(e) {
            document.dispatchEvent(new CustomEvent('quantityChanged', {
                detail: { quantity: parseInt(e.target.value) || 1 }
            }));
        });

        // Initialize on load
        window.addEventListener('load', function() {
            console.log('Test page loaded');
            // Trigger initial data load
            setTimeout(updateTestData, 500);
        });
    </script>
</body>
</html>