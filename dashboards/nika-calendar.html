<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Follow-Up Calendar - Nika's CRM - Northwest Custom Apparel</title>
    <link rel="icon" href="https://cdn.caspio.com/A0E15000/Safety%20Stripes/NWCA%20Favicon%20for%20TEAMNWCA.com.png?ver=1" type="image/png">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Page Styles -->
    <link href="/dashboards/css/rep-crm.css" rel="stylesheet">
</head>
<body>
    <div class="crm-page">
        <!-- Header -->
        <header class="crm-header">
            <div class="header-left">
                <a href="/staff-dashboard.html" title="Back to Staff Dashboard">
                    <img src="https://cdn.caspio.com/A0E15000/Safety%20Stripes/web%20northwest%20custom%20apparel%20logo.png?ver=1"
                         alt="Northwest Custom Apparel" class="header-logo">
                </a>
                <h1 class="header-title">Follow-Up Calendar</h1>
            </div>
            <div class="header-right">
                <div class="view-toggle">
                    <a href="/dashboards/nika-crm.html">CRM List</a>
                    <a href="/dashboards/nika-calendar.html" class="active">Calendar</a>
                </div>
                <a href="/staff-dashboard.html" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                    Dashboard
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="crm-content">
            <!-- Error Banner -->
            <div class="error-banner" id="error-banner">
                <i class="fas fa-exclamation-circle"></i>
                <span class="error-banner-message" id="error-message"></span>
                <button class="error-banner-close" onclick="window.calendarController.hideError()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Stats Row -->
            <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                <div class="stat-card">
                    <div class="stat-value" id="stat-total">0</div>
                    <div class="stat-label">Total Accounts</div>
                </div>
                <div class="stat-card" style="border-left: 4px solid #3b82f6;">
                    <div class="stat-value" id="stat-scheduled">0</div>
                    <div class="stat-label">Scheduled Follow-Ups</div>
                </div>
                <div class="stat-card overdue">
                    <div class="stat-value" id="stat-overdue">0</div>
                    <div class="stat-label">Overdue</div>
                </div>
            </div>

            <!-- Tier Filter Tabs -->
            <div class="tier-filter-tabs" id="tier-filter-tabs">
                <button class="tier-tab active" data-tier="all">All</button>
                <button class="tier-tab" data-tier="gold">
                    <span class="tier-dot gold"></span> Gold
                </button>
                <button class="tier-tab" data-tier="silver">
                    <span class="tier-dot silver"></span> Silver
                </button>
                <button class="tier-tab" data-tier="bronze">
                    <span class="tier-dot bronze"></span> Bronze
                </button>
                <button class="tier-tab" data-tier="win-back">
                    <span class="tier-dot win-back"></span> Win Back
                </button>
            </div>

            <!-- Calendar + Side Panel Layout -->
            <div class="calendar-layout">
                <!-- Calendar Section -->
                <div class="calendar-section">
                    <!-- Calendar Container -->
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <div class="calendar-nav">
                                <button class="calendar-nav-btn" id="calendar-prev" title="Previous Month">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <h2 class="calendar-month-title" id="calendar-month-title">January 2026</h2>
                                <button class="calendar-nav-btn" id="calendar-next" title="Next Month">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <button class="calendar-nav-btn" id="calendar-today">
                                <i class="fas fa-calendar-day"></i> Today
                            </button>
                        </div>

                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Calendar will be rendered here -->
                        </div>
                    </div>

                    <!-- Legend -->
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <div class="legend-dot priority-a"></div>
                            Priority A
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot priority-b"></div>
                            Priority B
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot priority-c"></div>
                            Priority C
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot priority-d"></div>
                            Priority D/E
                        </div>
                    </div>

                    <!-- Selected Day Detail (below calendar) -->
                    <div class="selected-day-detail" id="selected-day-detail" style="display: none;">
                        <div class="selected-day-header">
                            <h3 id="selected-day-date">January 21, 2026</h3>
                            <span class="selected-day-count" id="selected-day-count">2 scheduled</span>
                        </div>
                        <div class="selected-day-content" id="selected-day-content">
                            <!-- Selected day follow-ups will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Call This Month Side Panel -->
                <div class="call-this-month-panel" id="call-this-month-panel">
                    <div class="panel-header">
                        <h3>
                            <i class="fas fa-phone"></i>
                            Call This Month
                        </h3>
                        <span class="panel-count" id="call-this-month-count">0</span>
                    </div>
                    <div class="panel-subtitle" id="call-this-month-subtitle">
                        Primary_Month = January
                    </div>
                    <div class="panel-content" id="call-this-month-content">
                        <!-- Accounts to call this month will be rendered here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Config & Scripts -->
    <script src="/config/app.config.js"></script>
    <script>
        // Rep-specific configuration
        window.REP_CONFIG = {
            repName: 'Nika',
            apiEndpoint: '/api/nika-accounts',
            archiveEndpoint: '/api/nika/daily-sales-by-account'
        };
    </script>
    <script src="/dashboards/js/rep-calendar.js"></script>
</body>
</html>
